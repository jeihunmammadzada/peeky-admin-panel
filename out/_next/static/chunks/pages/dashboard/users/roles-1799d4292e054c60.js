(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8533],{5383:function(e,l,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/users/roles",function(){return a(1974)}])},1974:function(e,l,a){"use strict";a.r(l),a.d(l,{RoleDataTable:function(){return Z}});var s=a(5893),t=a(1864),i=a(6758),n=a(5129),r=a(7294),d=a(1299),c=a(7058),m=a(2270),o=a(9101),u=a(8070),h=a(6720),x=a(2121),b=a(1444),j=a(7536),f=a(22),v=a(5152),p=a.n(v),N=a(44);let y=p()(()=>a.e(4935).then(a.bind(a,4935)),{loadableGenerated:{webpack:()=>[4935]},ssr:!1}),Z=e=>{let{data:l}=e,a=[{name:"Rolun adı",selector:e=>[e.name],sortable:!0}];return(0,s.jsx)(y,{columns:a,data:l,children:(0,s.jsx)(N.ZP,{columns:a,data:l,pagination:!0})})},g=()=>{let[e,l]=(0,r.useState)(!1),[a,v]=(0,r.useState)(!1),[p,N]=(0,r.useState)(!1),[y,g]=(0,r.useState)(!1),[S,w]=(0,r.useState)([]),[k,C]=(0,r.useState)([]),[_,A]=(0,r.useState)(),R=async()=>{let e=[];v(!0),(0,n.m5)().then(l=>{var a,s;A(null===(a=l.data)||void 0===a?void 0:a.roles),v(!1),null===(s=l.data)||void 0===s||s.roles.map(l=>{e.push({value:l.id,label:l.name})})}).then(()=>{C(e)}).catch(e=>{b.Am.error("Rolların y\xfcklənməsi zamanı xəta baş verdi")})};(0,r.useEffect)(()=>{let e=[];(0,n.Or)().then(l=>{var a,s;null==l||null===(s=l.data)||void 0===s||null===(a=s.users)||void 0===a||a.map(l=>{e.push({value:l.id,label:l.fullName})})}).then(()=>{w(e)}).catch(e=>b.Am.error("İstifadə\xe7ilən y\xfcklənməsi zamanı xəta baş verdi")),R()},[]);let{control:F,handleSubmit:z,register:D,reset:E,formState:{errors:P}}=(0,j.cI)(),{control:q,handleSubmit:I,register:B,reset:G,formState:{errors:M}}=(0,j.cI)(),O=async e=>{g(!0),(0,n.fA)(e).then(e=>{g(!1),l(!1),b.Am.success("Rol uğurla əlavə olundu"),R(),E()}).catch(e=>{e.errors.map(e=>{b.Am.error(e,{autoClose:5e3})}),g(!1)})},T=async e=>{g(!0),(0,n.Ey)(e).then(e=>{g(!1),l(!1),b.Am.success("Rol uğurla təhkim olundu"),G()}).catch(e=>{e.errors.map(e=>{b.Am.error(e,{autoClose:5e3})}),g(!1)})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{title:"İstifadə\xe7i rolları"}),(0,s.jsx)(t.Z,{title:"İstifadə\xe7i rolları",item:"Ana səhifə",active_item:"İstifadə\xe7i rolları",action:()=>{l(!0)},actionName:"Rol təhkim et"}),(0,s.jsxs)(c.Z,{centered:!0,size:"lg",show:e,onHide:()=>l(!1),"aria-labelledby":"example-modal-sizes-title-lg",children:[(0,s.jsx)(c.Z.Header,{closeButton:!0,children:(0,s.jsx)(c.Z.Title,{as:"h6",id:"example-modal-sizes-title-lg",children:"Rol təhkim olunması"})}),(0,s.jsxs)(m.Z,{onSubmit:I(T),children:[(0,s.jsx)(c.Z.Body,{children:(0,s.jsxs)(o.Z,{className:"p-2",children:[(0,s.jsxs)(u.Z,{className:"mb-3",xl:6,lg:6,md:6,sm:12,children:[(0,s.jsx)("p",{className:"mb-2",children:"Rol se\xe7in"}),(0,s.jsx)(j.Qr,{...B("roleId",{required:!0}),control:q,render:e=>{let{field:l}=e;return(0,s.jsx)(f.default,{...l,onChange:e=>l.onChange(null==e?void 0:e.value),value:k.find(e=>e.value===l.value),ref:l.ref,isSearchable:!1,options:k,className:"default basic-multi-select",id:"choices-multiple-default",classNamePrefix:"Select2"})}}),M.roleId&&(0,s.jsx)(m.Z.Control.Feedback,{className:"d-block",type:"invalid",children:"Se\xe7im edilməsi vacibdir"})]}),(0,s.jsxs)(u.Z,{className:"mb-3",xl:6,lg:6,md:6,sm:12,children:[(0,s.jsx)("p",{className:"mb-2",children:"İstifadə\xe7i se\xe7in"}),(0,s.jsx)(j.Qr,{...B("userId",{required:!0}),control:q,render:e=>{let{field:l}=e;return(0,s.jsx)(f.default,{...l,onChange:e=>l.onChange(null==e?void 0:e.value),value:S.find(e=>e.value===l.value),ref:l.ref,isSearchable:!1,options:S,className:"default basic-multi-select",id:"choices-multiple-default",classNamePrefix:"Select2"})}}),M.userId&&(0,s.jsx)(m.Z.Control.Feedback,{className:"d-block",type:"invalid",children:"Se\xe7im edilməsi vacibdir"})]})]})}),(0,s.jsx)(c.Z.Footer,{children:(0,s.jsx)(h.Z,{disabled:y,type:"submit",className:"btn btn-primary",children:y?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"spinner-grow me-2 spinner-grow-sm align-middle",role:"status","aria-hidden":"true"}),"G\xf6zləyin..."]}):"Əlavə edin"})})]})]}),(0,s.jsx)(m.Z,{onSubmit:z(O),children:(0,s.jsxs)(o.Z,{className:"row-sm",children:[(0,s.jsxs)(u.Z,{className:"mb-3",xl:3,lg:3,md:6,sm:12,children:[(0,s.jsx)("p",{className:"mb-2 ",children:"Rolun adı"}),(0,s.jsx)(m.Z.Control,{className:"error",...D("roleName",{required:"Xananın doldurulması vacibdir"}),type:"text",id:"input",placeholder:"Rol adını daxil edin"}),P.roleName&&(0,s.jsx)(m.Z.Control.Feedback,{className:"d-block",type:"invalid",children:"Xananın dolduruması vacibdir"})]}),(0,s.jsxs)(u.Z,{className:"mb-3",xl:3,lg:3,md:6,sm:12,children:[(0,s.jsx)("p",{className:"mb-2",children:"‎"}),(0,s.jsx)(h.Z,{disabled:y,type:"submit",className:"btn btn-primary",children:y?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"spinner-grow me-2 spinner-grow-sm align-middle",role:"status","aria-hidden":"true"}),"G\xf6zləyin..."]}):"Əlavə edin"})]})]})}),(0,s.jsx)(o.Z,{className:"row-sm",children:(0,s.jsx)(u.Z,{lg:12,children:(0,s.jsx)(x.Z,{className:"custom-card overflow-hiddden",children:(0,s.jsx)(x.Z.Body,{children:(0,s.jsx)("div",{className:"responsive",children:a?(0,s.jsx)(d.default,{}):(0,s.jsx)(Z,{data:_})})})})})})]})};g.layout="Contentlayout",l.default=g},1864:function(e,l,a){"use strict";var s=a(5893),t=a(5152),i=a.n(t);a(7294);var n=a(1437),r=a(1372),d=a(8963),c=a(2664),m=a(1948);let o=i()(()=>a.e(22).then(a.bind(a,22)),{loadableGenerated:{webpack:()=>[22]},ssr:!1});l.Z=(0,c.$j)(e=>({local_varaiable:e}),{SetFilterDate:m.BO})(e=>{let l=[{value:"1",label:"1 Aylıq"},{value:"3",label:"3 Aylıq"},{value:"6",label:"6 Aylıq"},{value:"12",label:"1 İllik"}],a=d.Z.getState();return(0,s.jsxs)("div",{className:"d-md-flex d-block align-items-center justify-content-between page-header-breadcrumb",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"main-content-title fs-24 mb-1",children:e.title}),(0,s.jsxs)("ol",{className:"breadcrumb mb-0",children:[(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsx)("a",{children:e.item})}),(0,s.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:e.active_item})]})]}),null!=e.action&&(0,s.jsx)("div",{className:"d-flex",children:(0,s.jsx)("div",{className:"justify-content-center",children:(0,s.jsxs)("button",{onClick:e.action,type:"button",className:"btn btn-primary my-2 btn-icon-text d-inline-flex align-items-center",children:[(0,s.jsx)("i",{className:"fe fe-download-cloud me-2"})," ",e.actionName]})})}),null!=e.filter&&(0,s.jsx)("div",{className:"d-flex",children:(0,s.jsx)("div",{className:"justify-content-center",style:{width:"200px"},children:(0,s.jsx)(o,{onChange:l=>{let s=(0,n.Z)(new Date,+l.value);e.SetFilterDate({...a,beginDate:(0,r.Z)(s,"yyyy-MM-dd"),endDate:(0,r.Z)(new Date,"yyyy-MM-dd")})},name:"filter",options:l,className:"default basic-multi-select",id:"choices-multiple-default",menuPlacement:"auto",classNamePrefix:"Select2",defaultValue:[l[0]]})})})]})})}},function(e){e.O(0,[7257,7761,22,2888,9774,179],function(){return e(e.s=5383)}),_N_E=e.O()}]);