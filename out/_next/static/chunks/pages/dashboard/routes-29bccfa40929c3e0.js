(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6124],{683:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/routes",function(){return a(5201)}])},5201:function(e,t,a){"use strict";a.r(t),a.d(t,{RouteDataTable:function(){return N}});var n=a(5893),s=a(1864),l=a(6758),i=a(5129),r=a(7294),d=a(7058),c=a(2270),o=a(9101),m=a(8070),u=a(6720),x=a(2121),h=a(7536),b=a(1299),j=a(5152),y=a.n(j),v=a(44),p=a(1444);let f=y()(()=>a.e(4935).then(a.bind(a,4935)),{loadableGenerated:{webpack:()=>[4935]},ssr:!1}),N=e=>{let{data:t}=e,a=[{name:"Marşrutun n\xf6mrəsi",selector:e=>[e.number],sortable:!0},{name:"Təyinat n\xf6qtəsi 1",selector:e=>[e.destinations[0].address],sortable:!1},{name:"Təyinat n\xf6qtəsi 2",selector:e=>[e.destinations[1].address],sortable:!1}];return(0,n.jsx)(f,{columns:a,data:t,children:(0,n.jsx)(v.ZP,{columns:a,data:t,pagination:!0})})},Z=()=>{var e,t,a,j;let[y,v]=(0,r.useState)(!1),[f,Z]=(0,r.useState)(!1),[w,g]=(0,r.useState)(!1),[k,X]=(0,r.useState)(),{control:_,handleSubmit:q,register:C,reset:S,formState:{errors:T}}=(0,h.cI)(),F=async e=>{g(!0),(0,i.cX)(e).then(e=>{p.Am.success("Xətt uğurla əlavə olundu"),g(!1),v(!1),A(),S()}).catch(e=>{e.errors.map(e=>{p.Am.error(e,{autoClose:5e3})}),g(!1)})},A=async()=>{Z(!0),(0,i.Qi)().then(e=>{X(e.data.routes),Z(!1)}).catch(e=>{p.Am.error("Xətt məlumatlarının y\xfcklənməsi zamanı xəta baş verdi")})};return(0,r.useEffect)(()=>{A()},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{title:"Xəttlər"}),(0,n.jsx)(s.Z,{title:"Xəttlər",item:"Ana səhifə",active_item:"Xəttlər",action:()=>v(!0),actionName:"Xətt əlavə et"}),(0,n.jsxs)(d.Z,{centered:!0,size:"lg",show:y,onHide:()=>v(!1),"aria-labelledby":"example-modal-sizes-title-lg",children:[(0,n.jsx)(d.Z.Header,{closeButton:!0,children:(0,n.jsx)(d.Z.Title,{as:"h6",id:"example-modal-sizes-title-lg",children:"Xətt əlavə et"})}),(0,n.jsxs)(c.Z,{onSubmit:q(F),children:[(0,n.jsx)(d.Z.Body,{children:(0,n.jsxs)(o.Z,{className:"p-2",children:[(0,n.jsxs)(m.Z,{children:[(0,n.jsx)("p",{className:"mb-2 ",children:"Xəttin n\xf6mrəsi"}),(0,n.jsx)(c.Z.Control,{...C("number",{required:!0}),type:"text",id:"input",placeholder:"Xəttin n\xf6mrəsini daxil edin"}),T.number&&(0,n.jsx)(c.Z.Control.Feedback,{className:"d-block",type:"invalid",children:"Xananın doldurulması vacibdir"})]}),(0,n.jsxs)(m.Z,{children:[(0,n.jsx)("p",{className:"mb-2",children:"Təyinat yeri - 1 "}),(0,n.jsx)(c.Z.Control,{...C("destinations.0.address",{required:!0}),type:"text",id:"input",placeholder:"Təyinat məntəqəsini qeyd edin"}),(null===(t=T.destinations)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.address)&&(0,n.jsx)(c.Z.Control.Feedback,{className:"d-block",type:"invalid",children:"Xananın doldurulması vacibdir"})]}),(0,n.jsxs)(m.Z,{children:[(0,n.jsx)("p",{className:"mb-2 ",children:"Təyinat yeri - 2 "}),(0,n.jsx)(c.Z.Control,{...C("destinations.1.address",{required:!0}),type:"text",id:"input",placeholder:"Təyinat məntəqəsini qeyd edin"}),(null===(j=T.destinations)||void 0===j?void 0:null===(a=j[1])||void 0===a?void 0:a.address)&&(0,n.jsx)(c.Z.Control.Feedback,{className:"d-block",type:"invalid",children:"Xananın doldurulması vacibdir"})]})]})}),(0,n.jsx)(d.Z.Footer,{children:(0,n.jsx)(u.Z,{disabled:w,type:"submit",className:"btn btn-primary",children:w?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"spinner-grow me-2 spinner-grow-sm align-middle",role:"status","aria-hidden":"true"}),"G\xf6zləyin..."]}):"Əlavə edin"})})]})]}),(0,n.jsx)(o.Z,{className:"row-sm",children:(0,n.jsx)(m.Z,{lg:12,children:(0,n.jsx)(x.Z,{className:"custom-card overflow-hidden",children:(0,n.jsx)(x.Z.Body,{children:(0,n.jsx)("div",{className:"responsive",children:f?(0,n.jsx)(b.default,{}):(0,n.jsx)(N,{data:k})})})})})})]})};Z.layout="Contentlayout",t.default=Z},1864:function(e,t,a){"use strict";var n=a(5893),s=a(5152),l=a.n(s);a(7294);var i=a(1437),r=a(1372),d=a(8963),c=a(2664),o=a(1948);let m=l()(()=>a.e(22).then(a.bind(a,22)),{loadableGenerated:{webpack:()=>[22]},ssr:!1});t.Z=(0,c.$j)(e=>({local_varaiable:e}),{SetFilterDate:o.BO})(e=>{let t=[{value:"1",label:"1 Aylıq"},{value:"3",label:"3 Aylıq"},{value:"6",label:"6 Aylıq"},{value:"12",label:"1 İllik"}],a=d.Z.getState();return(0,n.jsxs)("div",{className:"d-md-flex d-block align-items-center justify-content-between page-header-breadcrumb",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"main-content-title fs-24 mb-1",children:e.title}),(0,n.jsxs)("ol",{className:"breadcrumb mb-0",children:[(0,n.jsx)("li",{className:"breadcrumb-item",children:(0,n.jsx)("a",{children:e.item})}),(0,n.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:e.active_item})]})]}),null!=e.action&&(0,n.jsx)("div",{className:"d-flex",children:(0,n.jsx)("div",{className:"justify-content-center",children:(0,n.jsxs)("button",{onClick:e.action,type:"button",className:"btn btn-primary my-2 btn-icon-text d-inline-flex align-items-center",children:[(0,n.jsx)("i",{className:"fe fe-download-cloud me-2"})," ",e.actionName]})})}),null!=e.filter&&(0,n.jsx)("div",{className:"d-flex",children:(0,n.jsx)("div",{className:"justify-content-center",style:{width:"200px"},children:(0,n.jsx)(m,{onChange:t=>{let n=(0,i.Z)(new Date,+t.value);e.SetFilterDate({...a,beginDate:(0,r.Z)(n,"yyyy-MM-dd"),endDate:(0,r.Z)(new Date,"yyyy-MM-dd")})},name:"filter",options:t,className:"default basic-multi-select",id:"choices-multiple-default",menuPlacement:"auto",classNamePrefix:"Select2",defaultValue:[t[0]]})})})]})})}},function(e){e.O(0,[7257,7761,2888,9774,179],function(){return e(e.s=683)}),_N_E=e.O()}]);